[
  {
    "Id": "629866",
    "ThreadId": "261960",
    "Html": "\r\n<p>Hi I have this snippet that wont compile:</p>\r\n<p>const string html = &quot;This is my sample template, @section Title { &lt;h1&gt;Hello @Model.Name!&lt;/h1&gt; }&quot;;<br>\r\nRazor.Compile(html, &quot;simple&quot;);</p>\r\n<p>Which throws the error:</p>\r\n<p></p>\r\n<div>System.InvalidOperationException : Sections are not supported in this code generation environment.</div>\r\n<div>at <span><span style=\"color:#00008b\">System.Web.Razor.Generator.RazorCodeGenerator</span></span>.<span><span style=\"color:#008b8b\">VisitSpan</span></span>(<span style=\"color:#00008b\"><span><span style=\"color:#00008b\">SectionHeaderSpan</span></span></span>\r\n<span style=\"color:#000000\">span</span>)<br>\r\nat <span><span style=\"color:#00008b\">System.Web.Razor.Generator.RazorCodeGenerator</span></span>.<span><span style=\"color:#008b8b\">TryVisit</span></span>(<span style=\"color:#00008b\"><span><span style=\"color:#00008b\">Span</span></span></span>\r\n<span style=\"color:#000000\">baseSpan</span>, <span style=\"color:#00008b\"><span><span style=\"color:#00008b\">Action`1</span></span></span>\r\n<span style=\"color:#000000\">subclassVisitor</span>)<br>\r\nat <span><span style=\"color:#00008b\">System.Web.Razor.Generator.RazorCodeGenerator</span></span>.<span><span style=\"color:#008b8b\">TryVisitSpecialSpanCore</span></span>(<span style=\"color:#00008b\"><span><span style=\"color:#00008b\">Span</span></span></span>\r\n<span style=\"color:#000000\">span</span>)<br>\r\nat <span><span style=\"color:#00008b\">System.Web.Razor.Generator.RazorCodeGenerator</span></span>.<span><span style=\"color:#008b8b\">VisitSpan</span></span>(<span style=\"color:#00008b\"><span><span style=\"color:#00008b\">Span</span></span></span>\r\n<span style=\"color:#000000\">span</span>)<br>\r\n...</div>\r\n<div></div>\r\n<div>Anyone knows how to fix/support?</div>\r\n<p></p>\r\n",
    "PostedDate": "2011-06-19T19:07:17.243-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "629870",
    "ThreadId": "261960",
    "Html": "<p>Ok I've tracked it to this piece of code in Razor that's throwing the exception:</p>\r\n<p><span>protected</span>&nbsp;<span>internal</span>&nbsp;<span>virtual</span>&nbsp;<span>void</span>&nbsp;<span>VisitSpan</span><span>(</span>SectionHeaderSpan span<span>)</span><br /><span>{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>if</span>&nbsp;<span>(!</span><span>this</span><span>.</span>Host<span>.</span>GeneratedClassContext<span>.</span>AllowSections<span>)</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>throw</span>&nbsp;<span>new</span>&nbsp;<span>InvalidOperationException</span><span>(</span>RazorResources<span>.</span>CodeGenerator_SectionsNotSupported<span>);</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span><span>.</span>CurrentBlock<span>.</span>Writer<span>.</span><span>WriteStartMethodInvoke</span><span>(</span><span>this</span><span>.</span>Host<span>.</span>GeneratedClassContext<span>.</span>DefineSectionMethodName<span>);</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span><span>.</span>CurrentBlock<span>.</span>Writer<span>.</span><span>WriteStringLiteral</span><span>(</span>span<span>.</span>SectionName<span>);</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span><span>.</span>CurrentBlock<span>.</span>Writer<span>.</span><span>WriteParameterSeparator</span><span>();</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span><span>.</span>CurrentBlock<span>.</span>Writer<span>.</span><span>WriteStartLambdaDelegate</span><span>(</span><span>new</span>&nbsp;<span>string</span><span>[</span><span>0</span><span>]);</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span><span>.</span>InSection =&nbsp;<span>true</span><span>;</span><br /><span>}</span></p>\r\n<p>Which is because your RazorEngineHost does not specify a value for the 'DefineSectionMethodName' property (<a href=\"http://msdn.microsoft.com/en-us/library/system.web.razor.generator.generatedclasscontext.templatetypename(v=vs.99).aspx\">http://msdn.microsoft.com/en-us/library/system.web.razor.generator.generatedclasscontext.templatetypename(v=vs.99).aspx</a>)&nbsp;<br />in line 138 in CompilerServiceBase.cs:</p>\r\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var host = new RazorEngineHost(CodeLanguage, () =&gt; MarkupParser)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DefaultBaseClass = BuildTypeName(templateType, modelType),<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DefaultClassName = className,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DefaultNamespace = \"CompiledRazorTemplates.Dynamic\",<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GeneratedClassContext = new GeneratedClassContext(\"Execute\", \"Write\", \"WriteLiteral\",<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"WriteTo\", \"WriteLiteralTo\",<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"RazorEngine.Templating.TemplateWriter\")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};</p>\r\n<p>Is there any reason why this isn't/can't be implemented?</p>",
    "PostedDate": "2011-06-19T19:27:03.41-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "806106",
    "ThreadId": "261960",
    "Html": "<p>Have you figured out any solutions for this? I need to use this functionality as well for my&nbsp;implementation.</p>",
    "PostedDate": "2012-03-06T02:47:31.623-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "806350",
    "ThreadId": "261960",
    "Html": "<p>Hi,</p>\r\n<p>What version are you using? If you are still using v2.1, then you may want to start looking at migrating to v3. We're currently pushing v3.0.8beta, but I am hoping to get the final version out the door. The new home for v3 is https://github.com/Antaris/RazorEngine.<span style=\"white-space: pre;\"> </span></p>\r\n<p><span style=\"white-space: pre;\"><br /></span></p>",
    "PostedDate": "2012-03-06T10:15:46.03-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]