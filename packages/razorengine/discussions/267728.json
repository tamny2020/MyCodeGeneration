[
  {
    "Id": "652352",
    "ThreadId": "267728",
    "Html": "<p>First, thanks&nbsp;for this useful code.</p>\n<p>Like others I was getting errors during compilation. I made a couple of hasty additions to avoid some of them:</p>\n<p>Sometimes an assembly with an empty name seems to be appended to the referenced assemblies thus&nbsp;generating an eror, so I added the bold red text in <strong><span style=\"color: #000000;\">DirectCompilerServiceBase.cs</span></strong> Line 59:</p>\n<p style=\"padding-left: 30px;\"><span style=\"color: #0000ff;\">.Where(a =&gt; !a.IsDynamic <span style=\"color: #ff0000;\"><strong>&amp;&amp; a.Location != \"\"</strong></span>)</span></p>\n<p>To return some debugging information, I&nbsp;modified <strong>TemplateCompilationException </strong>to return the result output (a list of strings which contains the source of the error):</p>\n<p style=\"padding-left: 30px;\"><span style=\"color: #0000ff;\">public TemplateCompilationException(CompilerErrorCollection errors<span style=\"color: #ff0000;\"><strong>, System.Collections.Specialized.StringCollection output</strong></span>)</span><br /><span style=\"color: #0000ff;\">&nbsp;: base(\"Unable to compile template. Check the Errors list for details.\")</span><br /><span style=\"color: #0000ff;\">{</span><br /><span style=\"color: #0000ff;\">&nbsp;var list = errors.Cast&lt;CompilerError&gt;().ToList();</span><br /><span style=\"color: #0000ff;\">&nbsp;Errors = new ReadOnlyCollection&lt;CompilerError&gt;(list);</span><br /><span style=\"color: #0000ff;\"><strong>&nbsp;<span style=\"color: #ff0000;\">Output = new List&lt;string&gt;(output.Cast&lt;string&gt;());</span></strong></span><br /><span style=\"color: #0000ff;\">}</span></p>\n<p style=\"padding-left: 30px;\"><span style=\"color: #0000ff;\">public ReadOnlyCollection&lt;CompilerError&gt; Errors { get; private set; }</span></p>\n<p style=\"padding-left: 30px;\"><span style=\"color: #ff0000;\"><strong>public List&lt;string&gt; Output { get; private set; }</strong></span></p>\n<p><span style=\"color: #000000;\">and&nbsp;modified accordingly <strong><span style=\"color: #000000;\">DirectCompilerServiceBase.cs</span></strong> Line 78 to:</span></p>\n<p style=\"padding-left: 30px;\"><span style=\"color: #0000ff;\">throw new TemplateCompilationException(results.Errors<span style=\"color: #ff0000;\"><strong>, results.Output</strong></span>);</span></p>\n<p><span style=\"color: #000000;\">If you are using RazorEngine.Web you will also have to&nbsp;modify&nbsp;<strong><span style=\"color: #000000;\">RazorBuildProviderBase.cs</span></strong> Line 70 to:</span></p>\n<p style=\"padding-left: 30px;\"><span style=\"color: #0000ff;\">throw new TemplateCompilationException(results.Errors<span style=\"color: #ff0000;\"><strong>, results.Output</strong></span>);</span></p>\n<p><span style=\"color: #000000;\">You will need to catch the TemplateCompilationException and go through the <strong>Output</strong> list of strings to see where the template&nbsp;error is.</span></p>\n<p><span style=\"color: #000000;\">I'm sure the author will find a better way to fix these problems. :-)</span></p>\n<p><span style=\"color: #000000;\">&nbsp;</span></p>",
    "PostedDate": "2011-08-04T06:16:55.65-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]